!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("DragAndSwap",[],t):"object"==typeof exports?exports.DragAndSwap=t():e.DragAndSwap=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){var n=this;r(this,e),this._name="DragAndSwap",this.config=t||{},this.isEnabled=void 0===t.isEnabled||t.isEnabled,this.dragSrcEl=null,this.boxes=[],this._findElementsInThePage(),this.isEnabled&&this.enable(),[].forEach.call(this.boxes,function(e){e.addEventListener("dragstart",function(e){return n.handleDragStart(e)},!1),e.addEventListener("dragenter",function(e){return n.handleDragEnter(e)},!1),e.addEventListener("dragover",function(e){return n.handleDragOver(e)},!1),e.addEventListener("dragleave",function(e){return n.handleDragLeave(e)},!1),e.addEventListener("drop",function(e){return n.handleDrop(e)},!1),e.addEventListener("dragend",function(e){return n.handleDragEnd(e)},!1)})}return a(e,[{key:"handleDragStart",value:function(e){e.target.style.opacity="0.5",this.dragSrcEl=e.target,e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",e.target.innerHTML)}},{key:"handleDragOver",value:function(e){return e.preventDefault&&e.preventDefault(),e.dataTransfer.dropEffect="move",!1}},{key:"handleDragEnter",value:function(e){this.dragSrcEl&&e.target&&this.dragSrcEl!==e.target&&this._canDrop(this.dragSrcEl,e.target)&&e.target.classList.add("swapper--over")}},{key:"handleDragLeave",value:function(e){e.target.classList.remove("swapper--over")}},{key:"handleDrop",value:function(e){var t=this;if(e.stopPropagation&&e.stopPropagation(),this._canDrop(this.dragSrcEl,e.target)){this.dragSrcEl.innerHTML=e.target.innerHTML,e.target.innerHTML=e.dataTransfer.getData("text/html");var n=e.target.classList.toString().split(" ");e.target.classList=this.dragSrcEl.classList,this.dragSrcEl.classList="",n.forEach(function(e){t.dragSrcEl.classList.add(e)});var r=e.target.id;e.target.id=this.dragSrcEl.id,this.dragSrcEl.id=r,this.config.onChange&&this.config.onChange(this.boxes)}return!1}},{key:"handleDragEnd",value:function(e){[].forEach.call(this.boxes,function(t){t.classList.remove("swapper--over"),e.target.style.opacity="1.0"})}},{key:"_findElementsInThePage",value:function(){var e=this,t="";this.config.containers.forEach(function(n){t+=n+" "+e.config.element+","}),t=t.slice(0,-1),this.boxes=document.querySelectorAll(t)}},{key:"enable",value:function(){this.isEnabled=!0,[].forEach.call(this.boxes,function(e){e.setAttribute("draggable",!0),e.style.cursor="move"})}},{key:"disable",value:function(){this.isEnabled=!1,[].forEach.call(this.boxes,function(e){e.removeAttribute("draggable"),e.style.cursor="default"})}},{key:"_findContainer",value:function(e){var t=null;return this.config.containers.every(function(n){return!(t=e.closest(n))}),t}},{key:"_areDifferentElements",value:function(e,t){return e&&t&&e!==t}},{key:"_hasSameContainers",value:function(e,t){var n=this._findContainer(e),r=this._findContainer(t);return n&&r&&n.innerHTML===r.innerHTML}},{key:"_canDrop",value:function(e,t){return!(!e||!t)&&(!!this._areDifferentElements(e,t)&&!(!this.config.swapBetweenContainers&&!this._hasSameContainers(e,t)))}},{key:"name",get:function(){return this._name}}]),e}();t.default=i,e.exports=t.default}])});